{
    "schema": "DEX",
    "description": "Standard table definitions for dex protocols.",
    "version": "1.0.0-alpha",
    "tables": [
        {
            "tableName": "Pools",
            "aggregation": "none",
            "description": "List of LP pools in this protocol (one entry per token in a pool).",
            "properties": {
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "creationBlockNumber": {
                    "description": "The block this pool was created in.",
                    "type": "number"
                },
                "creationTimestamp": {
                    "description": "The timestamp of the block that this pool was created in.",
                    "type": "number"
                },
                "poolAddress": {
                    "description": "The contract address of the lp pool.",
                    "type": "string"
                },
                "lpTokenAddress": {
                    "description": "The token address of the LP token for this pool.",
                    "type": "string"
                },
                "lpTokenSymbol": {
                    "description": "The symbol of the LP token.",
                    "type": "string"
                },
                "tokenAddress": {
                    "description": "The token address of the pool token at tokenIndex.",
                    "type": "string"
                },
                "tokenIndex": {
                    "description": "The index in the pool smart contract that this token appears at (ie, 0, 1, etc).",
                    "type": "number"
                },
                "feeRate": {
                    "description": "The fee rate of the pool.",
                    "type": "number"
                },
                "dexType": {
                    "description": "The type of the DEX (ie, CPMM, CLMM, Orderbook).",
                    "type": "string"
                }
            }
        },
        {
            "tableName": "LP Position Snapshot",
            "aggregation": "daily",
            "description": "User level snapshot on the LP positions in the protocol (one entry per token per pool).",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the snapshot.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "lpAddress": {
                    "description": "The address of the liquidity provider.",
                    "type": "string"
                },
                "tokenIndex": {
                    "description": "The token index based on the smart contract.",
                    "type": "number"
                },
                "lpTokenAddress": {
                    "description": "The contract address of the LP token.",
                    "type": "string"
                },
                "lpTokenSymbol": {
                    "description": "The symbol of the LP token.",
                    "type": "string"
                },
                "lpTokenAmount": {
                    "description": "The amount of the LP token held by the liquidity provider in the position, decimal normalized.",
                    "type": "number"
                },
                "lpTokenAmountUsd": {
                    "description": "The amount of the LP token in USD.",
                    "type": "number"
                },
                "feesUsd": {
                    "description": "LP fees paid in the given period, in USD.",
                    "type": "number"
                },
                "incentiveAmount": {
                    "description": "The amount of incentives given out over the snapshot period, in USD.",
                    "type": "number"
                },
                "incentiveUsd": {
                    "description": "The incentives in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Pool Snapshot",
            "aggregation": "daily",
            "description": "TVL, volume, fees, and incentives data at the pool level (one entry per token).",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the snapshot.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "poolAddress": {
                    "description": "The contract address of the LP pool.",
                    "type": "string"
                },
                "tokenIndex": {
                    "description": "The token index in the smart contract.",
                    "type": "number"
                },
                "tokenAddress": {
                    "description": "The contract address of the token in the pool.",
                    "type": "string"
                },
                "tokenSymbol": {
                    "description": "The symbol of the token.",
                    "type": "string"
                },
                "tokenAmount": {
                    "description": "The amount of the the token in this pool at the snapshot, decimal normalized.",
                    "type": "number"
                },
                "tokenAmountUsd": {
                    "description": "The amount of the token in USD.",
                    "type": "number"
                },
                "poolVolumeUsd": {
                    "description": "The volume of the pool in USD, during the snapshot period.",
                    "type": "number"
                },
                "poolFeesUsd": {
                    "description": "The fees of the pool in USD, during the snapshot.",
                    "type": "number"
                },
                "poolIncentiveAmount": {
                    "description": "The amount of incentives in the pool, during the given snapshot, decimal normalized.",
                    "type": "number"
                },
                "poolIncentiveUsd": {
                    "description": "The value of incentives in the pool in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Protocol Snapshot",
            "aggregation": "daily",
            "description": "TVL, volume, and fees data at the protocol level.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the snapshot.",
                    "type": "string"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "tvlUsd": {
                    "description": "The total value locked in USD.",
                    "type": "number"
                },
                "volumeUsd": {
                    "description": "The volume in USD.",
                    "type": "number"
                },
                "feesUsd": {
                    "description": "The fees collected in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Trades",
            "aggregation": "transaction",
            "description": "List of trades (ie, swaps) in the DEX.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the transaction.",
                    "type": "number"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the trade.",
                    "type": "number"
                },
                "logIndex": {
                    "description": "The log index of the event recorded.",
                    "type": "number"
                },
                "transactionHash": {
                    "description": "The hash of the transaction.",
                    "type": "string"
                },
                "pairName": {
                    "description": "The name of the token pair.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the LP pool being traded in.",
                    "type": "string"
                },
                "inputTokenSymbol": {
                    "description": "The symbol of the input token.",
                    "type": "string"
                },
                "inputTokenAddress": {
                    "description": "The contract address of the input token.",
                    "type": "string"
                },
                "inputTokenAmount": {
                    "description": "The amount of the input token, decimal normalized.",
                    "type": "number"
                },
                "outputTokenSymbol": {
                    "description": "The symbol of the output token.",
                    "type": "string"
                },
                "outputTokenAddress": {
                    "description": "The contract address of the output token.",
                    "type": "string"
                },
                "outputTokenAmount": {
                    "description": "The amount of the output token, decimal normalized.",
                    "type": "number"
                },
                "swapAmountUsd": {
                    "description": "The amount of the swap in USD.",
                    "type": "number"
                },
                "feeUsd": {
                    "description": "The fee for the trade in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Mints",
            "aggregation": "transaction",
            "description": "Mint events for V2 DEXs.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the mint.",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user who initiated this event.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "token0Address": {
                    "description": "The contract address of token0.",
                    "type": "string"
                },
                "token0Amount": {
                    "description": "The amount of token0.",
                    "type": "number"
                },
                "token1Address": {
                    "description": "The contract address of token1.",
                    "type": "string"
                },
                "token1Amount": {
                    "description": "The amount of token1.",
                    "type": "number"
                },
                "mintAmount": {
                    "description": "The amount of LP token minted by the trader, decimal normalized.",
                    "type": "number"
                },
                "mintAmountUsd": {
                    "description": "The amount of the mint in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Burns",
            "aggregation": "transaction",
            "description": "Burns events for V2 DEXs.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the burn.",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user who initiated this event.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "token0Address": {
                    "description": "The contract address of token0.",
                    "type": "string"
                },
                "token0Amount": {
                    "description": "The amount of token0.",
                    "type": "number"
                },
                "token1Address": {
                    "description": "The contract address of token1.",
                    "type": "string"
                },
                "token1Amount": {
                    "description": "The amount of token1.",
                    "type": "number"
                },
                "burnAmount": {
                    "description": "The amount of LP tokens burned, decimal normalized.",
                    "type": "number"
                },
                "burnAmountUsd": {
                    "description": "The amount of the burn in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Syncs",
            "description": "Sync events for V2 DEXs.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the sync.",
                    "type": "number"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "token0Address": {
                    "description": "The contract address of token0.",
                    "type": "string"
                },
                "token0Amount": {
                    "description": "The amount of token0.",
                    "type": "number"
                },
                "token1Address": {
                    "description": "The contract address of token1.",
                    "type": "string"
                },
                "token1Amount": {
                    "description": "The amount of token1.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Transfers",
            "description": "LP transfer events for V3 DEXs.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the transfer.",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user who initiated this event.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "poolTokenBalance": {
                    "description": "The balance of the pool token, decimal normalized.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "V3 Events",
            "aggregation": "transaction",
            "description": "Activity (event-based) data for DEX V3 (Mint/Burn/Transfer).",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the activity.",
                    "type": "number"
                },
                "eventType": {
                    "description": "The action taken (ie, Mint/Burn/Transfer).",
                    "type": "string"
                },
                "transactionFromAddress": {
                    "description": "The address from which the transaction originated.",
                    "type": "string"
                },
                "transactionToAddress": {
                    "description": "The address to which the transaction is directed.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "tokenAddress": {
                    "description": "The contract address of the token",
                    "type": "string"
                },
                "liquidityAmount": {
                    "description": "The amount of liquidity.",
                    "type": "number"
                },
                "liquidityUSD": {
                    "description": "The liquidity amount in USD.",
                    "type": "number"
                },
                "tickLower": {
                    "description": "The lower tick of the liquidity range.",
                    "type": "number"
                },
                "tickUpper": {
                    "description": "The upper tick of the liquidity range.",
                    "type": "number"
                },
                "tick": {
                    "description": "The current tick.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "V# Swaps",
            "aggregation": "transaction",
            "description": "Swap events for V3 DEXs.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the swap.",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user who made the swap.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "liquidityAmount": {
                    "description": "The liquidity field that is emitted in a V3 event, decimal normalized.",
                    "type": "number"
                },
                "token0Amount": {
                    "description": "The amount of token0.",
                    "type": "number"
                },
                "token1Amount": {
                    "description": "The amount of token1.",
                    "type": "number"
                },
                "sqrtPriceX96": {
                    "description": "The square root of the price multiplied by 2^96.",
                    "type": "number"
                },
                "tick": {
                    "description": "The current tick.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "Market Depth User Snapshot",
            "aggregation": "hourly/daily",
            "description": "(Optional) Market depth score data at the user level.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number of the record.",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user.",
                    "type": "string"
                },
                "poolAddress": {
                    "description": "The contract address of the pool.",
                    "type": "string"
                },
                "marketDepthScore": {
                    "description": "TODO: how to define this?",
                    "type": "number"
                }
            }
        }
    ]
}
