{
    "schema": "dex-aggregator",
    "description": "Standard table definitions for DEX aggregators.",
    "version": "1.0.0-alpha",
    "tables": [
        {
            "tableName": "tokens",
            "description": "List of tokens supported by the protocol.",
            "properties": {
                "protocolName": {
                    "description": "The name of the protocol.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "tokenAddress": {
                    "description": "The contract address of the token.",
                    "type": "string"
                },
                "tokenName": {
                    "description": "The full name of the token, from the eth_call name().",
                    "type": "string"
                },
                "tokenSymbol": {
                    "description": "The symbol of the token, from the eth_call symbol().",
                    "type": "string"
                },
                "decimals": {
                    "description": "The decimals name of the token, from the eth_call decimals().",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "tokenSnapshot",
            "description": "Volume, fees, and incentives data at the token level.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "tokenAddress": {
                    "description": "The contract address of the token.",
                    "type": "string"
                },
                "dailyVolumeAmount": {
                    "description": "The daily volume amount of the token (in native, decimal normalized terms).",
                    "type": "number"
                },
                "dailyVolumeUsd": {
                    "description": "The daily volume of the token in USD.",
                    "type": "number"
                },
                "dailyFees": {
                    "description": "The daily fees taken from this token in native, decimal normalized terms.",
                    "type": "number"
                },
                "dailyFeesUsd": {
                    "description": "The daily fees collected in USD.",
                    "type": "number"
                },
                "dailyIncentiveAmount": {
                    "description": "The daily amount of incentives collected from this token.",
                    "type": "number"
                },
                "dailyIncentiveUsd": {
                    "description": "The daily value of incentives in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "protocolSnapshot",
            "description": "Volume and fees data at the protocol level.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the block this snapshot was taken.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "dailyVolumeUsd": {
                    "description": "The daily volume in USD.",
                    "type": "number"
                },
                "dailyFeesUsd": {
                    "description": "The daily fees collected in USD.",
                    "type": "number"
                }
            }
        },
        {
            "tableName": "trades",
            "description": "List of trades executed on the protocol.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the trade.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain this trade belongs to.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number in which the trade occurred.",
                    "type": "number"
                },
                "transactionId": {
                    "description": "The transaction id associated with this trade.",
                    "type": "string"
                },
                "fees": {
                    "description": "The amount of fees for this trade.",
                    "type": "number"
                },
                "slippage": {
                    "description": "(Optional) The slippage of the given trade.",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user initiating the trade.",
                    "type": "string"
                },
                "inputTokens": {
                    "description": "The contract address of the input token(s).",
                    "type": "[string]"
                },
                "inputTokenAmounts": {
                    "description": "Parallel array to inputTokens, dictating the normalzied native amounts of each token traded.",
                    "type": "[number]"
                },
                "outputTokens": {
                    "description": "The contract address of the output token(s).",
                    "type": "[string]"
                },
                "outputTokenAmounts": {
                    "description": "Parallel array to output, dictating the normalzied native amounts of each token traded.",
                    "type": "[number]"
                },
                "swapAmountUsd": {
                    "description": "The value of the swap in USD.",
                    "type": "number"
                }
            }
        }
    ]
}
