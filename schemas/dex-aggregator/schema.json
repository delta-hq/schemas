{
    "schema": "DEX Aggregator",
    "description": "Standard table definitions for DEX aggregators.",
    "version": "1.0.0-alpha",
    "tables": [
        {
            "label": "Tokens",
            "tableName": "dex_agg_tokens",
            "aggregation": "none",
            "description": "List of tokens supported by the protocol.",
            "properties": {
                "protocolName": {
                    "description": "The name of the protocol.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "tokenAddress": {
                    "description": "The contract address of the token.",
                    "type": "string"
                },
                "tokenName": {
                    "description": "The full name of the token, from the eth_call name().",
                    "type": "string"
                },
                "tokenSymbol": {
                    "description": "The symbol of the token, from the eth_call symbol().",
                    "type": "string"
                },
                "decimals": {
                    "description": "The decimals name of the token, from the eth_call decimals().",
                    "type": "number"
                }
            }
        },
        {
            "label": "Token Snapshot",
            "tableName": "dex_agg_token_metrics",
            "aggregation": "daily",
            "description": "Volume, fees, and incentives data at the token level.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the record.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "tokenAddress": {
                    "description": "The contract address of the token.",
                    "type": "string"
                },
                "volumeAmount": {
                    "description": "The volume amount of the token, during the snapshot period, decimal normalized.",
                    "type": "number"
                },
                "volumeUsd": {
                    "description": "The volume of the token in USD.",
                    "type": "number"
                },
                "fees": {
                    "description": "The fees (ie, revenue generated from trading this token) from this token in native, decimal normalized terms.",
                    "type": "number"
                },
                "feesUsd": {
                    "description": "The  fees collected in USD.",
                    "type": "number"
                },
                "incentiveAmount": {
                    "description": "The amount of incentives collected from this token, during the snapshot period, decimal normalized.",
                    "type": "number"
                },
                "incentiveUsd": {
                    "description": "The value of incentives in USD.",
                    "type": "number"
                }
            }
        },
        {
            "label": "Protocol Snapshot",
            "tableName": "dex_agg_metrics",
            "aggregation": "daily",
            "description": "Volume and fees data at the protocol level.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the block this snapshot was taken.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain.",
                    "type": "number"
                },
                "volumeUsd": {
                    "description": "The volume in USD, in the given snapshot period.",
                    "type": "number"
                },
                "feesUsd": {
                    "description": "The fees (ie, total revenue generated in the protocol) collected in USD, during the snapshot period.",
                    "type": "number"
                }
            }
        },
        {
            "label": "Trades",
            "tableName": "dex_agg_trades",
            "aggregation": "transaction",
            "description": "List of trades executed on the protocol.",
            "properties": {
                "timestamp": {
                    "description": "The timestamp of the trade.",
                    "type": "number"
                },
                "protocolName": {
                    "description": "The name of the protocol this table belongs to.",
                    "type": "string"
                },
                "chainId": {
                    "description": "The standard id of the chain this trade belongs to.",
                    "type": "number"
                },
                "blockNumber": {
                    "description": "The block number in which the trade occurred.",
                    "type": "number"
                },
                "transactionId": {
                    "description": "The transaction id associated with this trade.",
                    "type": "string"
                },
                "fees": {
                    "description": "The amount of fees from this trade (ie, the revenue generated from executing this trade).",
                    "type": "number"
                },
                "feesUsd": {
                    "description": "The fees for this trade in USD.",
                    "type": "number"
                },
                "slippage": {
                    "description": "(Optional) The slippage of the given trade, as a percentage (ie, 0.3% slippage is 0.3).",
                    "type": "number"
                },
                "userAddress": {
                    "description": "The address of the user initiating the trade.",
                    "type": "string"
                },
                "inputTokens": {
                    "description": "The contract address of the input token(s).",
                    "type": "[string]"
                },
                "inputTokenAmounts": {
                    "description": "Parallel array to inputTokens, dictating the normalized native amounts of each token traded.",
                    "type": "[number]"
                },
                "outputTokens": {
                    "description": "The contract address of the output token(s).",
                    "type": "[string]"
                },
                "outputTokenAmounts": {
                    "description": "Parallel array to output, dictating the normalized native amounts of each token traded.",
                    "type": "[number]"
                },
                "swapAmountUsd": {
                    "description": "The value of the swap in USD.",
                    "type": "number"
                }
            }
        }
    ]
}
